<%
  fieldset_group_form = Class.new(ApplicationForm) do
    form do |f|
      f.fieldset_group(
        title: "Delivery preferences",
        caption: "These settings affect how we contact you"
      ) do |g|
        g.text_field(
          name: :ultimate_answer,
          label: "Ultimate answer",
          required: true,
          caption: "The answer to life, the universe, and everything"
        )

        g.select_list(
          name: :window,
          label: "Delivery window",
          include_blank: true
        ) do |list|
          list.option(label: "Morning", value: "morning")
          list.option(label: "Afternoon", value: "afternoon")
          list.option(label: "Evening", value: "evening")
        end

        g.text_field(
          name: :hours,
          label: "Hours",
          type: :number,
          required: true,
          trailing_visual: { text: { text: "min" } },
          input_width: :xsmall
        )
      end
    end
  end
%>

<%= primer_form_with(url: "/foo") do |f| %>
  <%= render(fieldset_group_form.new(f)) %>
<% end %>
