<%=
  render(
    Primer::OpenProject::DataTable.new(
      data: projects,
      cell_padding: :spacious,
      initial_sort_column: :created_at,
      initial_sort_direction: :DESC
    )
  ) do |data_table|
    data_table.with_title(tag: :h2) { "Projects" }
    data_table.with_subtitle { "The latest projects in OpenProject" }

    data_table.with_column(header: "Name", field: :name, row_header: true, width: :grow_collapse, sort_by: :ASC)

    data_table.with_column(header: "Status", field: :status_code) do |column|
      column.with_cell do |row|
        render(Primer::Beta::Label.new) { row.status_code }
      end
    end
    data_table.with_column(header: "Created", field: :created_at, sort_by: :DESC) do |column|
      column.with_cell do |row|
        row.created_at.strftime("%Y-%m-%d")
      end
    end
  end
%>
